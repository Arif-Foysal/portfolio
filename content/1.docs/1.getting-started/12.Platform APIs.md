---
title: "Platform APIs"
description: "Access native device features and platform-specific APIs in React Native"
navigation:
  icon: i-lucide-house
---

# Platform APIs

#react-native #platform #device #permissions #native #stage-4

> Access native device features and platform-specific APIs in React Native

## 🔗 Navigation
← [[11.Persistent Storage]] | → [[13.Popular React Native Libraries]]

---

## Platform Information

Access device and platform information using the Platform API.

```jsx path=null start=null
import React, { useState, useEffect } from 'react';
import { View, Text, Platform, StyleSheet } from 'react-native';
import DeviceInfo from 'react-native-device-info';

const PlatformInfoScreen = () => {
  const [deviceInfo, setDeviceInfo] = useState({});

  useEffect(() => {
    getDeviceInfo();
  }, []);

  const getDeviceInfo = async () => {
    try {
      const info = {
        // React Native Platform API
        os: Platform.OS,
        osVersion: Platform.Version,
        constants: Platform.constants,
        
        // DeviceInfo library (install: npm install react-native-device-info)
        deviceId: await DeviceInfo.getDeviceId(),
        deviceName: await DeviceInfo.getDeviceName(),
        brand: DeviceInfo.getBrand(),
        model: DeviceInfo.getModel(),
        systemVersion: DeviceInfo.getSystemVersion(),
        buildNumber: DeviceInfo.getBuildNumber(),
        version: DeviceInfo.getVersion(),
        bundleId: DeviceInfo.getBundleId(),
        
        // Device characteristics
        isTablet: DeviceInfo.isTablet(),
        hasNotch: DeviceInfo.hasNotch(),
        hasDynamicIsland: DeviceInfo.hasDynamicIsland(),
        
        // Network info
        carrier: await DeviceInfo.getCarrier(),
        
        // Storage info
        totalMemory: await DeviceInfo.getTotalMemory(),
        totalDiskCapacity: await DeviceInfo.getTotalDiskCapacity(),
        freeDiskStorage: await DeviceInfo.getFreeDiskStorage(),
      };
      
      setDeviceInfo(info);
    } catch (error) {
      console.error('Failed to get device info:', error);
    }
  };

  return (
    <ScrollView style={styles.container}>
      <Text style={styles.title}>Device Information</Text>
      
      <InfoSection title="Platform">
        <InfoRow label="OS" value={deviceInfo.os} />
        <InfoRow label="OS Version" value={deviceInfo.osVersion} />
        <InfoRow label="Device ID" value={deviceInfo.deviceId} />
        <InfoRow label="Device Name" value={deviceInfo.deviceName} />
        <InfoRow label="Brand" value={deviceInfo.brand} />
        <InfoRow label="Model" value={deviceInfo.model} />
      </InfoSection>

      <InfoSection title="App Information">
        <InfoRow label="App Version" value={deviceInfo.version} />
        <InfoRow label="Build Number" value={deviceInfo.buildNumber} />
        <InfoRow label="Bundle ID" value={deviceInfo.bundleId} />
      </InfoSection>

      <InfoSection title="Device Characteristics">
        <InfoRow label="Is Tablet" value={deviceInfo.isTablet ? 'Yes' : 'No'} />
        <InfoRow label="Has Notch" value={deviceInfo.hasNotch ? 'Yes' : 'No'} />
        <InfoRow label="Has Dynamic Island" value={deviceInfo.hasDynamicIsland ? 'Yes' : 'No'} />
      </InfoSection>

      <InfoSection title="Storage & Memory">
        <InfoRow 
          label="Total Memory" 
          value={deviceInfo.totalMemory ? `${Math.round(deviceInfo.totalMemory / 1024 / 1024)} MB` : 'N/A'} 
        />
        <InfoRow 
          label="Total Disk" 
          value={deviceInfo.totalDiskCapacity ? `${Math.round(deviceInfo.totalDiskCapacity / 1024 / 1024 / 1024)} GB` : 'N/A'} 
        />
        <InfoRow 
          label="Free Disk" 
          value={deviceInfo.freeDiskStorage ? `${Math.round(deviceInfo.freeDiskStorage / 1024 / 1024 / 1024)} GB` : 'N/A'} 
        />
      </InfoSection>

      {/* Platform-specific information */}
      {Platform.OS === 'ios' && (
        <InfoSection title="iOS Specific">
          <InfoRow label="iPhone X or later" value={Platform.constants.interfaceIdiom} />
          <InfoRow label="System Name" value={Platform.constants.systemName} />
        </InfoSection>
      )}

      {Platform.OS === 'android' && (
        <InfoSection title="Android Specific">
          <InfoRow label="API Level" value={Platform.constants.Version} />
          <InfoRow label="Fingerprint" value={Platform.constants.Fingerprint} />
        </InfoSection>
      )}
    </ScrollView>
  );
};

const InfoSection = ({ title, children }) => (
  <View style={styles.section}>
    <Text style={styles.sectionTitle}>{title}</Text>
    {children}
  </View>
);

const InfoRow = ({ label, value }) => (
  <View style={styles.infoRow}>
    <Text style={styles.label}>{label}:</Text>
    <Text style={styles.value}>{value || 'N/A'}</Text>
  </View>
);

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 20,
    backgroundColor: '#f5f5f5',
  },
  title: {
    fontSize: 24,
    fontWeight: 'bold',
    marginBottom: 20,
    textAlign: 'center',
    color: '#333',
  },
  section: {
    backgroundColor: '#fff',
    padding: 15,
    marginBottom: 15,
    borderRadius: 10,
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 1 },
    shadowOpacity: 0.1,
    shadowRadius: 2,
    elevation: 2,
  },
  sectionTitle: {
    fontSize: 18,
    fontWeight: 'bold',
    marginBottom: 10,
    color: '#007AFF',
  },
  infoRow: {
    flexDirection: 'row',
    justifyContent: 'space-between',
    paddingVertical: 5,
    borderBottomWidth: StyleSheet.hairlineWidth,
    borderBottomColor: '#eee',
  },
  label: {
    fontSize: 14,
    color: '#666',
    flex: 1,
  },
  value: {
    fontSize: 14,
    color: '#333',
    flex: 1,
    textAlign: 'right',
  },
});
```

---

## Permissions Management

Handle runtime permissions for accessing device features.

```jsx path=null start=null
// First install: npm install react-native-permissions
import {
  request,
  requestMultiple,
  check,
  checkMultiple,
  openSettings,
  PERMISSIONS,
  RESULTS,
} from 'react-native-permissions';
import { Platform, Alert, Linking } from 'react-native';

// Permission utility functions
const PermissionUtils = {
  // Get platform-specific permission
  getPlatformPermission: (permission) => {
    const permissions = {
      camera: Platform.OS === 'ios' ? PERMISSIONS.IOS.CAMERA : PERMISSIONS.ANDROID.CAMERA,
      microphone: Platform.OS === 'ios' ? PERMISSIONS.IOS.MICROPHONE : PERMISSIONS.ANDROID.RECORD_AUDIO,
      location: Platform.OS === 'ios' ? PERMISSIONS.IOS.LOCATION_WHEN_IN_USE : PERMISSIONS.ANDROID.ACCESS_FINE_LOCATION,
      locationAlways: Platform.OS === 'ios' ? PERMISSIONS.IOS.LOCATION_ALWAYS : PERMISSIONS.ANDROID.ACCESS_BACKGROUND_LOCATION,
      photos: Platform.OS === 'ios' ? PERMISSIONS.IOS.PHOTO_LIBRARY : PERMISSIONS.ANDROID.READ_EXTERNAL_STORAGE,
      contacts: Platform.OS === 'ios' ? PERMISSIONS.IOS.CONTACTS : PERMISSIONS.ANDROID.READ_CONTACTS,
      calendar: Platform.OS === 'ios' ? PERMISSIONS.IOS.CALENDARS : PERMISSIONS.ANDROID.READ_CALENDAR,
      notifications: Platform.OS === 'ios' ? PERMISSIONS.IOS.NOTIFICATIONS : PERMISSIONS.ANDROID.POST_NOTIFICATIONS,
    };
    return permissions[permission];
  },

  // Check single permission status
  checkPermission: async (permission) => {
    try {
      const platformPermission = PermissionUtils.getPlatformPermission(permission);
      const result = await check(platformPermission);
      return result;
    } catch (error) {
      console.error(`Failed to check ${permission} permission:`, error);
      return RESULTS.UNAVAILABLE;
    }
  },

  // Request single permission
  requestPermission: async (permission) => {
    try {
      const platformPermission = PermissionUtils.getPlatformPermission(permission);
      const result = await request(platformPermission);
      return result;
    } catch (error) {
      console.error(`Failed to request ${permission} permission:`, error);
      return RESULTS.UNAVAILABLE;
    }
  },

  // Request multiple permissions
  requestMultiplePermissions: async (permissions) => {
    try {
      const platformPermissions = permissions.map(p => PermissionUtils.getPlatformPermission(p));
      const results = await requestMultiple(platformPermissions);
      return results;
    } catch (error) {
      console.error('Failed to request multiple permissions:', error);
      return {};
    }
  },

  // Check if permission is granted
  isPermissionGranted: (result) => {
    return result === RESULTS.GRANTED;
  },

  // Check if permission is denied
  isPermissionDenied: (result) => {
    return result === RESULTS.DENIED;
  },

  // Check if permission is blocked (permanently denied)
  isPermissionBlocked: (result) => {
    return result === RESULTS.BLOCKED;
  },

  // Show permission rationale
  showPermissionRationale: (permission, onGranted, onDenied) => {
    const permissionNames = {
      camera: 'Camera',
      microphone: 'Microphone',
      location: 'Location',
      photos: 'Photo Library',
      contacts: 'Contacts',
      calendar: 'Calendar',
      notifications: 'Notifications',
    };

    Alert.alert(
      `${permissionNames[permission]} Permission`,
      `This app needs access to your ${permissionNames[permission].toLowerCase()} to function properly.`,
      [
        {
          text: 'Cancel',
          style: 'cancel',
          onPress: onDenied,
        },
        {
          text: 'Grant Permission',
          onPress: async () => {
            const result = await PermissionUtils.requestPermission(permission);
            if (PermissionUtils.isPermissionGranted(result)) {
              onGranted();
            } else if (PermissionUtils.isPermissionBlocked(result)) {
              PermissionUtils.showSettingsAlert(permission);
            } else {
              onDenied();
            }
          },
        },
      ]
    );
  },

  // Show settings alert for blocked permissions
  showSettingsAlert: (permission) => {
    const permissionNames = {
      camera: 'Camera',
      microphone: 'Microphone',
      location: 'Location',
      photos: 'Photo Library',
      contacts: 'Contacts',
      calendar: 'Calendar',
      notifications: 'Notifications',
    };

    Alert.alert(
      'Permission Required',
      `${permissionNames[permission]} permission is required but has been permanently denied. Please enable it in Settings.`,
      [
        { text: 'Cancel', style: 'cancel' },
        {
          text: 'Open Settings',
          onPress: () => {
            if (Platform.OS === 'ios') {
              Linking.openURL('app-settings:');
            } else {
              openSettings();
            }
          },
        },
      ]
    );
  },
};

// Permission hook
const usePermissions = () => {
  const [permissions, setPermissions] = useState({});
  const [loading, setLoading] = useState(false);

  const checkPermissions = async (permissionList) => {
    try {
      setLoading(true);
      const results = {};
      
      for (const permission of permissionList) {
        results[permission] = await PermissionUtils.checkPermission(permission);
      }
      
      setPermissions(results);
      return results;
    } catch (error) {
      console.error('Failed to check permissions:', error);
      return {};
    } finally {
      setLoading(false);
    }
  };

  const requestPermissions = async (permissionList) => {
    try {
      setLoading(true);
      const results = {};
      
      for (const permission of permissionList) {
        const currentStatus = await PermissionUtils.checkPermission(permission);
        
        if (currentStatus === RESULTS.GRANTED) {
          results[permission] = currentStatus;
        } else if (currentStatus === RESULTS.DENIED) {
          results[permission] = await PermissionUtils.requestPermission(permission);
        } else {
          results[permission] = currentStatus;
        }
      }
      
      setPermissions(prev => ({ ...prev, ...results }));
      return results;
    } catch (error) {
      console.error('Failed to request permissions:', error);
      return {};
    } finally {
      setLoading(false);
    }
  };

  return {
    permissions,
    loading,
    checkPermissions,
    requestPermissions,
    isGranted: (permission) => PermissionUtils.isPermissionGranted(permissions[permission]),
    isDenied: (permission) => PermissionUtils.isPermissionDenied(permissions[permission]),
    isBlocked: (permission) => PermissionUtils.isPermissionBlocked(permissions[permission]),
  };
};

// Usage example
const PermissionScreen = () => {
  const {
    permissions,
    loading,
    checkPermissions,
    requestPermissions,
    isGranted,
    isDenied,
    isBlocked,
  } = usePermissions();

  const permissionList = ['camera', 'microphone', 'location', 'photos', 'contacts'];

  useEffect(() => {
    checkPermissions(permissionList);
  }, []);

  const handleRequestPermission = (permission) => {
    if (isBlocked(permission)) {
      PermissionUtils.showSettingsAlert(permission);
    } else if (!isGranted(permission)) {
      PermissionUtils.showPermissionRationale(
        permission,
        () => {
          console.log(`${permission} permission granted`);
          checkPermissions([permission]);
        },
        () => {
          console.log(`${permission} permission denied`);
        }
      );
    }
  };

  const getPermissionStatus = (permission) => {
    const status = permissions[permission];
    switch (status) {
      case RESULTS.GRANTED:
        return { text: 'Granted', color: '#28a745' };
      case RESULTS.DENIED:
        return { text: 'Denied', color: '#ffc107' };
      case RESULTS.BLOCKED:
        return { text: 'Blocked', color: '#dc3545' };
      case RESULTS.UNAVAILABLE:
        return { text: 'Unavailable', color: '#6c757d' };
      default:
        return { text: 'Unknown', color: '#6c757d' };
    }
  };

  return (
    <View style={styles.container}>
      <Text style={styles.title}>App Permissions</Text>
      
      {loading && (
        <View style={styles.loadingContainer}>
          <ActivityIndicator size="large" color="#007AFF" />
          <Text>Checking permissions...</Text>
        </View>
      )}

      {permissionList.map((permission) => {
        const status = getPermissionStatus(permission);
        
        return (
          <View key={permission} style={styles.permissionItem}>
            <View style={styles.permissionInfo}>
              <Text style={styles.permissionName}>
                {permission.charAt(0).toUpperCase() + permission.slice(1)}
              </Text>
              <Text style={[styles.permissionStatus, { color: status.color }]}>
                {status.text}
              </Text>
            </View>
            
            {!isGranted(permission) && (
              <TouchableOpacity
                style={styles.requestButton}
                onPress={() => handleRequestPermission(permission)}
              >
                <Text style={styles.requestButtonText}>
                  {isBlocked(permission) ? 'Open Settings' : 'Request'}
                </Text>
              </TouchableOpacity>
            )}
          </View>
        );
      })}

      <TouchableOpacity
        style={styles.refreshButton}
        onPress={() => checkPermissions(permissionList)}
      >
        <Text style={styles.refreshButtonText}>Refresh Status</Text>
      </TouchableOpacity>
    </View>
  );
};
```

---

## Linking & Deep Links

Handle external links and implement deep linking.

```jsx path=null start=null
import React, { useState, useEffect } from 'react';
import { 
  View, 
  Text, 
  TouchableOpacity, 
  Linking, 
  Alert, 
  StyleSheet,
  TextInput,
} from 'react-native';

const LinkingExample = () => {
  const [initialUrl, setInitialUrl] = useState('');
  const [customUrl, setCustomUrl] = useState('');

  useEffect(() => {
    // Check if app was opened via deep link
    checkInitialUrl();

    // Listen for deep link events
    const subscription = Linking.addEventListener('url', handleDeepLink);

    return () => subscription?.remove();
  }, []);

  const checkInitialUrl = async () => {
    try {
      const url = await Linking.getInitialURL();
      if (url) {
        setInitialUrl(url);
        handleDeepLink({ url });
      }
    } catch (error) {
      console.error('Failed to get initial URL:', error);
    }
  };

  const handleDeepLink = ({ url }) => {
    console.log('Received deep link:', url);
    
    // Parse the URL and navigate accordingly
    if (url) {
      parseDeepLink(url);
    }
  };

  const parseDeepLink = (url) => {
    // Example URL: myapp://profile/123?tab=settings
    const urlParts = url.replace('myapp://', '').split('/');
    const queryString = urlParts[urlParts.length - 1].includes('?') 
      ? urlParts[urlParts.length - 1].split('?')[1] 
      : '';
    
    const route = urlParts[0];
    const params = {};
    
    if (queryString) {
      queryString.split('&').forEach(param => {
        const [key, value] = param.split('=');
        params[key] = decodeURIComponent(value);
      });
    }

    Alert.alert(
      'Deep Link Received',
      `Route: ${route}\nParams: ${JSON.stringify(params, null, 2)}`
    );
  };

  // Open external URLs
  const openUrl = async (url) => {
    try {
      const supported = await Linking.canOpenURL(url);
      if (supported) {
        await Linking.openURL(url);
      } else {
        Alert.alert('Error', `Cannot open URL: ${url}`);
      }
    } catch (error) {
      Alert.alert('Error', 'Failed to open URL');
      console.error('URL opening error:', error);
    }
  };

  // Open specific apps
  const openSpecificApp = async (scheme, fallbackUrl) => {
    try {
      const supported = await Linking.canOpenURL(scheme);
      if (supported) {
        await Linking.openURL(scheme);
      } else {
        // Fallback to web URL or app store
        await Linking.openURL(fallbackUrl);
      }
    } catch (error) {
      console.error('Failed to open app:', error);
    }
  };

  const linkExamples = [
    {
      title: 'Open Website',
      action: () => openUrl('https://www.google.com'),
    },
    {
      title: 'Open Email',
      action: () => openUrl('mailto:test@example.com?subject=Hello&body=Test message'),
    },
    {
      title: 'Make Phone Call',
      action: () => openUrl('tel:+1234567890'),
    },
    {
      title: 'Send SMS',
      action: () => openUrl('sms:+1234567890?body=Hello from React Native'),
    },
    {
      title: 'Open Maps',
      action: () => {
        const address = '1600 Amphitheatre Parkway, Mountain View, CA';
        const url = Platform.OS === 'ios' 
          ? `maps://app?q=${encodeURIComponent(address)}`
          : `geo:0,0?q=${encodeURIComponent(address)}`;
        openUrl(url);
      },
    },
    {
      title: 'Open App Settings',
      action: () => {
        if (Platform.OS === 'ios') {
          Linking.openURL('app-settings:');
        } else {
          Linking.openSettings();
        }
      },
    },
    {
      title: 'Open Instagram',
      action: () => openSpecificApp(
        'instagram://user?username=instagram',
        'https://www.instagram.com/instagram'
      ),
    },
    {
      title: 'Open Twitter',
      action: () => openSpecificApp(
        'twitter://user?screen_name=twitter',
        'https://twitter.com/twitter'
      ),
    },
    {
      title: 'Open YouTube',
      action: () => openSpecificApp(
        'youtube://www.youtube.com/channel/UC_x5XG1OV2P6uZZ5FSM9Ttw',
        'https://www.youtube.com/googledevelopers'
      ),
    },
    {
      title: 'Share via WhatsApp',
      action: () => openUrl('whatsapp://send?text=Hello from React Native App!'),
    },
  ];

  return (
    <ScrollView style={styles.container}>
      <Text style={styles.title}>Linking & Deep Links</Text>

      {initialUrl && (
        <View style={styles.initialUrlContainer}>
          <Text style={styles.sectionTitle}>App Opened With URL:</Text>
          <Text style={styles.urlText}>{initialUrl}</Text>
        </View>
      )}

      <View style={styles.section}>
        <Text style={styles.sectionTitle}>Custom URL Test</Text>
        <TextInput
          style={styles.input}
          value={customUrl}
          onChangeText={setCustomUrl}
          placeholder="Enter URL to open (e.g., https://google.com)"
        />
        <TouchableOpacity
          style={styles.button}
          onPress={() => customUrl && openUrl(customUrl)}
        >
          <Text style={styles.buttonText}>Open Custom URL</Text>
        </TouchableOpacity>
      </View>

      <View style={styles.section}>
        <Text style={styles.sectionTitle}>Link Examples</Text>
        {linkExamples.map((example, index) => (
          <TouchableOpacity
            key={index}
            style={styles.exampleButton}
            onPress={example.action}
          >
            <Text style={styles.exampleButtonText}>{example.title}</Text>
          </TouchableOpacity>
        ))}
      </View>

      <View style={styles.section}>
        <Text style={styles.sectionTitle}>Deep Link Testing</Text>
        <Text style={styles.infoText}>
          To test deep links, you can use these URLs in other apps or browsers:
        </Text>
        <Text style={styles.deepLinkExample}>myapp://profile/123</Text>
        <Text style={styles.deepLinkExample}>myapp://settings?tab=notifications</Text>
        <Text style={styles.deepLinkExample}>myapp://product/456?color=red&size=large</Text>
      </View>
    </ScrollView>
  );
};

// Deep link configuration for app manifest
const deepLinkConfig = {
  screens: {
    Profile: 'profile/:userId',
    Settings: 'settings',
    Product: 'product/:productId',
    // Add more screens as needed
  },
};

// Usage in navigation
const linking = {
  prefixes: ['myapp://'],
  config: deepLinkConfig,
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 20,
    backgroundColor: '#f5f5f5',
  },
  title: {
    fontSize: 24,
    fontWeight: 'bold',
    marginBottom: 20,
    textAlign: 'center',
    color: '#333',
  },
  section: {
    backgroundColor: '#fff',
    padding: 15,
    marginBottom: 15,
    borderRadius: 10,
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 1 },
    shadowOpacity: 0.1,
    shadowRadius: 2,
    elevation: 2,
  },
  sectionTitle: {
    fontSize: 18,
    fontWeight: 'bold',
    marginBottom: 10,
    color: '#007AFF',
  },
  initialUrlContainer: {
    backgroundColor: '#e3f2fd',
    padding: 15,
    marginBottom: 15,
    borderRadius: 10,
  },
  urlText: {
    fontSize: 14,
    color: '#1976d2',
    fontFamily: 'monospace',
  },
  input: {
    borderWidth: 1,
    borderColor: '#ddd',
    padding: 10,
    borderRadius: 5,
    marginBottom: 10,
    fontSize: 16,
  },
  button: {
    backgroundColor: '#007AFF',
    padding: 12,
    borderRadius: 8,
    alignItems: 'center',
  },
  buttonText: {
    color: '#fff',
    fontSize: 16,
    fontWeight: '600',
  },
  exampleButton: {
    backgroundColor: '#f8f9fa',
    padding: 12,
    borderRadius: 8,
    marginBottom: 8,
    borderWidth: 1,
    borderColor: '#dee2e6',
  },
  exampleButtonText: {
    fontSize: 16,
    color: '#495057',
  },
  infoText: {
    fontSize: 14,
    color: '#666',
    marginBottom: 10,
  },
  deepLinkExample: {
    fontSize: 14,
    color: '#007AFF',
    fontFamily: 'monospace',
    backgroundColor: '#f8f9fa',
    padding: 8,
    marginBottom: 5,
    borderRadius: 4,
  },
});
```

---

## Device Features

Access various device capabilities and sensors.

```jsx path=null start=null
import React, { useState, useEffect } from 'react';
import {
  View,
  Text,
  TouchableOpacity,
  Alert,
  Vibration,
  Share,
  Clipboard,
  StyleSheet,
} from 'react-native';

// Additional libraries you might want to install:
// npm install @react-native-community/clipboard
// npm install react-native-haptic-feedback
// npm install @react-native-async-storage/async-storage

const DeviceFeaturesDemo = () => {
  const [clipboardText, setClipboardText] = useState('');
  const [deviceMotion, setDeviceMotion] = useState({ x: 0, y: 0, z: 0 });

  useEffect(() => {
    // Get initial clipboard content
    getClipboardContent();
  }, []);

  // Clipboard operations
  const getClipboardContent = async () => {
    try {
      const content = await Clipboard.getString();
      setClipboardText(content || 'No content in clipboard');
    } catch (error) {
      console.error('Failed to get clipboard content:', error);
    }
  };

  const copyToClipboard = async (text) => {
    try {
      await Clipboard.setString(text);
      Alert.alert('Success', 'Text copied to clipboard');
    } catch (error) {
      Alert.alert('Error', 'Failed to copy to clipboard');
    }
  };

  // Vibration patterns
  const vibrationExamples = [
    {
      title: 'Short Vibration',
      action: () => Vibration.vibrate(100),
    },
    {
      title: 'Long Vibration',
      action: () => Vibration.vibrate(1000),
    },
    {
      title: 'Pattern Vibration',
      action: () => Vibration.vibrate([500, 300, 500, 300, 500]),
    },
    {
      title: 'Continuous Vibration',
      action: () => Vibration.vibrate([1000, 1000, 1000], true),
    },
    {
      title: 'Cancel Vibration',
      action: () => Vibration.cancel(),
    },
  ];

  // Share functionality
  const shareContent = async (content) => {
    try {
      const result = await Share.share({
        message: content.message,
        url: content.url,
        title: content.title,
      });

      if (result.action === Share.sharedAction) {
        if (result.activityType) {
          console.log('Shared with activity type:', result.activityType);
        } else {
          console.log('Content shared');
        }
      } else if (result.action === Share.dismissedAction) {
        console.log('Share dismissed');
      }
    } catch (error) {
      Alert.alert('Error', 'Failed to share content');
      console.error('Share error:', error);
    }
  };

  const shareExamples = [
    {
      title: 'Share Text',
      action: () => shareContent({
        message: 'Check out this amazing React Native app!',
        title: 'My App',
      }),
    },
    {
      title: 'Share URL',
      action: () => shareContent({
        message: 'Check out this website:',
        url: 'https://reactnative.dev',
        title: 'React Native',
      }),
    },
    {
      title: 'Share App',
      action: () => shareContent({
        message: 'Try this awesome app!',
        url: Platform.OS === 'ios' 
          ? 'https://apps.apple.com/app/your-app'
          : 'https://play.google.com/store/apps/details?id=your.app',
        title: 'Download My App',
      }),
    },
  ];

  // Haptic feedback (requires react-native-haptic-feedback)
  const hapticFeedbackExamples = [
    {
      title: 'Selection',
      action: () => {
        // HapticFeedback.selection();
        Alert.alert('Haptic', 'Selection feedback (install react-native-haptic-feedback)');
      },
    },
    {
      title: 'Impact Light',
      action: () => {
        // HapticFeedback.impact(HapticFeedback.ImpactStyle.Light);
        Alert.alert('Haptic', 'Light impact (install react-native-haptic-feedback)');
      },
    },
    {
      title: 'Impact Heavy',
      action: () => {
        // HapticFeedback.impact(HapticFeedback.ImpactStyle.Heavy);
        Alert.alert('Haptic', 'Heavy impact (install react-native-haptic-feedback)');
      },
    },
    {
      title: 'Notification Success',
      action: () => {
        // HapticFeedback.notification(HapticFeedback.NotificationType.Success);
        Alert.alert('Haptic', 'Success notification (install react-native-haptic-feedback)');
      },
    },
  ];

  return (
    <ScrollView style={styles.container}>
      <Text style={styles.title}>Device Features Demo</Text>

      {/* Clipboard Section */}
      <View style={styles.section}>
        <Text style={styles.sectionTitle}>Clipboard</Text>
        <Text style={styles.clipboardText}>Current: {clipboardText}</Text>
        <View style={styles.buttonRow}>
          <TouchableOpacity
            style={styles.smallButton}
            onPress={getClipboardContent}
          >
            <Text style={styles.buttonText}>Get Clipboard</Text>
          </TouchableOpacity>
          <TouchableOpacity
            style={styles.smallButton}
            onPress={() => copyToClipboard('Hello from React Native!')}
          >
            <Text style={styles.buttonText}>Copy Text</Text>
          </TouchableOpacity>
        </View>
      </View>

      {/* Vibration Section */}
      <View style={styles.section}>
        <Text style={styles.sectionTitle}>Vibration</Text>
        {vibrationExamples.map((example, index) => (
          <TouchableOpacity
            key={index}
            style={styles.featureButton}
            onPress={example.action}
          >
            <Text style={styles.featureButtonText}>{example.title}</Text>
          </TouchableOpacity>
        ))}
      </View>

      {/* Share Section */}
      <View style={styles.section}>
        <Text style={styles.sectionTitle}>Share</Text>
        {shareExamples.map((example, index) => (
          <TouchableOpacity
            key={index}
            style={styles.featureButton}
            onPress={example.action}
          >
            <Text style={styles.featureButtonText}>{example.title}</Text>
          </TouchableOpacity>
        ))}
      </View>

      {/* Haptic Feedback Section */}
      <View style={styles.section}>
        <Text style={styles.sectionTitle}>Haptic Feedback</Text>
        <Text style={styles.infoText}>
          Install react-native-haptic-feedback for these features
        </Text>
        {hapticFeedbackExamples.map((example, index) => (
          <TouchableOpacity
            key={index}
            style={styles.featureButton}
            onPress={example.action}
          >
            <Text style={styles.featureButtonText}>{example.title}</Text>
          </TouchableOpacity>
        ))}
      </View>

      {/* Device Information */}
      <View style={styles.section}>
        <Text style={styles.sectionTitle}>Quick Device Info</Text>
        <Text style={styles.infoText}>Platform: {Platform.OS}</Text>
        <Text style={styles.infoText}>Version: {Platform.Version}</Text>
        <Text style={styles.infoText}>
          Screen: {Math.round(Dimensions.get('window').width)} x {Math.round(Dimensions.get('window').height)}
        </Text>
      </View>
    </ScrollView>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    padding: 20,
    backgroundColor: '#f5f5f5',
  },
  title: {
    fontSize: 24,
    fontWeight: 'bold',
    marginBottom: 20,
    textAlign: 'center',
    color: '#333',
  },
  section: {
    backgroundColor: '#fff',
    padding: 15,
    marginBottom: 15,
    borderRadius: 10,
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 1 },
    shadowOpacity: 0.1,
    shadowRadius: 2,
    elevation: 2,
  },
  sectionTitle: {
    fontSize: 18,
    fontWeight: 'bold',
    marginBottom: 10,
    color: '#007AFF',
  },
  clipboardText: {
    fontSize: 14,
    color: '#666',
    marginBottom: 10,
    fontStyle: 'italic',
  },
  buttonRow: {
    flexDirection: 'row',
    justifyContent: 'space-around',
  },
  smallButton: {
    backgroundColor: '#007AFF',
    padding: 8,
    borderRadius: 6,
    minWidth: 100,
    alignItems: 'center',
  },
  featureButton: {
    backgroundColor: '#f8f9fa',
    padding: 12,
    borderRadius: 8,
    marginBottom: 8,
    borderWidth: 1,
    borderColor: '#dee2e6',
  },
  featureButtonText: {
    fontSize: 16,
    color: '#495057',
  },
  buttonText: {
    color: '#fff',
    fontSize: 14,
    fontWeight: '600',
  },
  infoText: {
    fontSize: 14,
    color: '#666',
    marginBottom: 5,
  },
});
```

---

## 💡 Key Takeaways

1. **Always check permissions** before accessing device features
2. **Handle permission rejections gracefully** with proper fallbacks
3. **Use platform-specific APIs** when necessary
4. **Test deep linking thoroughly** on both platforms
5. **Provide clear permission rationales** to users
6. **Handle device feature unavailability** on different devices
7. **Consider user privacy** when requesting permissions
8. **Test on real devices** for accurate behavior

---

## 🔗 Related Notes
- [[13.Popular React Native Libraries]] - Extended device functionality
- [[11.Persistent Storage]] - Storing device preferences
- [[14.Performance Optimization]] - Optimizing platform-specific code

## 📚 Next Steps
1. Practice implementing permission flows
2. Set up deep linking in your app
3. Test platform-specific features on real devices
4. Move on to [[13.Popular React Native Libraries]]

---
*Tags: #react-native #platform #device #permissions #native #stage-4 #linking #sensors*
